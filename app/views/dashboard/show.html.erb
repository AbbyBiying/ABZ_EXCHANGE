<div class="dashboard-container">
<header>Welcome <%= current_user.username %>!</header>
<%= image_tag @user.avatar.url if @user.avatar? %>
<header>Your current location is: <%= @user.city.titleize %>, <%= @user.state.upcase %></header>

<div id="map"></div>
<script>
  var map, infoWindow;
  function initMap() {
    map = new google.maps.Map(document.getElementById('map'), {
      center: {lat: -34.397, lng: 150.644},
      zoom: 6,
      mapTypeId: google.maps.MapTypeId.HYBRID
    });
    infoWindow = new google.maps.InfoWindow;

    var pos = {
      lat: <%= current_user.latitude %>,
      lng: <%= current_user.longitude %>,
    };

    infoWindow.setPosition(pos);
    infoWindow.setContent("<%= current_user.username %>");
    infoWindow.open(map);
    map.setCenter(pos);
  }
</script>

  <ul class="button-container">
    <li>
      <%= link_to "Edit my info", edit_user_path(current_user), class: "button" %>
    </li>
  </ul>
</div>
<%= render "users/info", user: @user %> 

<%= render "google_maps" %>